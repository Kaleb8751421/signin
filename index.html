<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>家庭簽到頁面</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    #signInList li { margin: 5px 0; }
  </style>
</head>
<body>
  <h2>家庭每日簽到</h2>
  <input type="text" id="nameInput" placeholder="請輸入名字">
  <button onclick="signIn()">簽到</button>

  <ul id="signInList"></ul>

  <script>
    // 讀取 localStorage 內的資料
    const savedList = JSON.parse(localStorage.getItem("signIns")) || [];
    const list = document.getElementById("signInList");

    // 顯示現有的資料
    savedList.forEach(item => {
      const li = document.createElement("li");
      li.textContent = item;
      list.appendChild(li);
    });

    function signIn() {
      const nameInput = document.getElementById("nameInput");
      const name = nameInput.value.trim();
      if (name === "") return;

      // 產生格式化的日期時間：民國年月日 + 時分
      const now = new Date();
      const year = now.getFullYear() - 1911;
      const month = String(now.getMonth() + 1).padStart(2, '0');
      const day = String(now.getDate()).padStart(2, '0');
      const hour = String(now.getHours()).padStart(2, '0');
      const minute = String(now.getMinutes()).padStart(2, '0');
      const timestamp = `${year}.${month}.${day} ${hour}:${minute}`;

      const signText = `${name} - ${timestamp}`;

      // 顯示到畫面上
      const newItem = document.createElement("li");
      newItem.textContent = signText;
      list.appendChild(newItem);

      // 儲存到 localStorage
      savedList.push(signText);
      localStorage.setItem("signIns", JSON.stringify(savedList));

      // 清空輸入框
      nameInput.value = "";
    }
  </script>
</body>
</html>
